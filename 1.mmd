flowchart 
    subgraph "Master Use Case: URL Shortening Service"
        subgraph "Sub-Use Cases"
            UC1[UC-001: Validate Service]
            UC2[UC-002: Validate URL] 
            UC3[UC-003: Check URL Existence]
            UC4[UC-004: Generate Short URL]
        end
        
        A[Start] --> UC1
        UC1 --> B{Service Available?}
        B -->|No| E1[FAILURE: Service Down]
        B -->|Yes| UC2
        
        UC2 --> C{URL Valid?}
        C -->|No| E2[FAILURE: Invalid URL]
        C -->|Yes| UC3
        
        UC3 --> D{URL Exists?}
        D -->|Yes| S1[SUCCESS: Return Existing]
        D -->|No| UC4
        
        UC4 --> E{Generation OK?}
        E -->|No| E3[FAILURE: Generation Failed]
        E -->|Yes| S2[SUCCESS: Return New URL]
        
        subgraph "Success Outcomes"
            S1 --> End1[End]
            S2 --> End2[End]
        end
        
        subgraph "Failure Outcomes"
            E1 --> End3[End]
            E2 --> End4[End] 
            E3 --> End5[End]
        end
    end